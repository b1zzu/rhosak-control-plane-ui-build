(self.webpackChunkmk_ui_frontend=self.webpackChunkmk_ui_frontend||[]).push([[874],{34008:(e,t,n)=>{"use strict";n.d(t,{L:()=>D});var a,r=n(70655),i=n(15691),l=n.n(i),c=n(5977),o=n(17751),s=n(91995),u=n(55459),m=function(e){var t=e.createStreamsInstance,n=e.setCreateStreamsInstance,a=(0,o.useTranslation)().t;return l().createElement(l().Fragment,null,l().createElement(s.EmptyState,null,l().createElement(s.EmptyStateIcon,{icon:u.PlusCircleIcon}),l().createElement(s.Title,{headingLevel:"h4",size:"lg"},a("You don't have any Streams instances yet")),l().createElement(s.EmptyStateBody,null,a("Create a Streams instance to get started")),l().createElement(s.Button,{variant:"primary",onClick:function(){n(!t)}},a("Create a Streams Instance"))))},d=n(42953),p=n(8575),f=n(69104),E=n.n(f),v="http://localhost:8000".replace(/\/+$/,""),h=function(e,t,n){void 0===t&&(t=v),void 0===n&&(n=E()),this.basePath=t,this.axios=n,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)},g=function(e){function t(t,n){var a=e.call(this,n)||this;return a.field=t,a.name="RequiredError",a}return(0,r.ZT)(t,e),t}(Error),_=function(e){var t=this;return{createKafka:function(n,a,i){return void 0===i&&(i={}),(0,r.mG)(t,void 0,Promise,(function(){var t,l,c,o,s,u,m,d;return(0,r.Jh)(this,(function(f){if(null==n)throw new g("async","Required parameter async was null or undefined when calling createKafka.");if(null==a)throw new g("kafkaRequest","Required parameter kafkaRequest was null or undefined when calling createKafka.");return"/api/managed-services-api/v1/kafkas",t=p.Qc("/api/managed-services-api/v1/kafkas",!0),e&&(l=e.baseOptions),c=(0,r.pi)((0,r.pi)({method:"POST"},l),i),o={},s={},e&&e.accessToken&&(u="function"==typeof e.accessToken?e.accessToken():e.accessToken,o.Authorization="Bearer "+u),void 0!==n&&(s.async=n),o["Content-Type"]="application/json",t.query=(0,r.pi)((0,r.pi)((0,r.pi)({},t.query),s),i.query),delete t.search,m=l&&l.headers?l.headers:{},c.headers=(0,r.pi)((0,r.pi)((0,r.pi)({},o),m),i.headers),d="string"!=typeof a||"application/json"===c.headers["Content-Type"],c.data=d?JSON.stringify(void 0!==a?a:{}):a||"",[2,{url:p.WU(t),options:c}]}))}))},createServiceAccount:function(n){return void 0===n&&(n={}),(0,r.mG)(t,void 0,Promise,(function(){var t,a,i,l,c,o,s;return(0,r.Jh)(this,(function(u){return"/api/managed-services-api/v1/serviceAccount",t=p.Qc("/api/managed-services-api/v1/serviceAccount",!0),e&&(a=e.baseOptions),i=(0,r.pi)((0,r.pi)({method:"GET"},a),n),l={},c={},e&&e.accessToken&&(o="function"==typeof e.accessToken?e.accessToken():e.accessToken,l.Authorization="Bearer "+o),t.query=(0,r.pi)((0,r.pi)((0,r.pi)({},t.query),c),n.query),delete t.search,s=a&&a.headers?a.headers:{},i.headers=(0,r.pi)((0,r.pi)((0,r.pi)({},l),s),n.headers),[2,{url:p.WU(t),options:i}]}))}))},deleteKafkaById:function(n,a){return void 0===a&&(a={}),(0,r.mG)(t,void 0,Promise,(function(){var t,i,l,c,o,s,u,m;return(0,r.Jh)(this,(function(d){if(null==n)throw new g("id","Required parameter id was null or undefined when calling deleteKafkaById.");return t="/api/managed-services-api/v1/kafkas/{id}".replace("{id}",encodeURIComponent(String(n))),i=p.Qc(t,!0),e&&(l=e.baseOptions),c=(0,r.pi)((0,r.pi)({method:"DELETE"},l),a),o={},s={},e&&e.accessToken&&(u="function"==typeof e.accessToken?e.accessToken():e.accessToken,o.Authorization="Bearer "+u),i.query=(0,r.pi)((0,r.pi)((0,r.pi)({},i.query),s),a.query),delete i.search,m=l&&l.headers?l.headers:{},c.headers=(0,r.pi)((0,r.pi)((0,r.pi)({},o),m),a.headers),[2,{url:p.WU(i),options:c}]}))}))},getKafkaById:function(n,a){return void 0===a&&(a={}),(0,r.mG)(t,void 0,Promise,(function(){var t,i,l,c,o,s,u,m;return(0,r.Jh)(this,(function(d){if(null==n)throw new g("id","Required parameter id was null or undefined when calling getKafkaById.");return t="/api/managed-services-api/v1/kafkas/{id}".replace("{id}",encodeURIComponent(String(n))),i=p.Qc(t,!0),e&&(l=e.baseOptions),c=(0,r.pi)((0,r.pi)({method:"GET"},l),a),o={},s={},e&&e.accessToken&&(u="function"==typeof e.accessToken?e.accessToken():e.accessToken,o.Authorization="Bearer "+u),i.query=(0,r.pi)((0,r.pi)((0,r.pi)({},i.query),s),a.query),delete i.search,m=l&&l.headers?l.headers:{},c.headers=(0,r.pi)((0,r.pi)((0,r.pi)({},o),m),a.headers),[2,{url:p.WU(i),options:c}]}))}))},listKafkas:function(n,a,i){return void 0===i&&(i={}),(0,r.mG)(t,void 0,Promise,(function(){var t,l,c,o,s,u,m;return(0,r.Jh)(this,(function(d){return"/api/managed-services-api/v1/kafkas",t=p.Qc("/api/managed-services-api/v1/kafkas",!0),e&&(l=e.baseOptions),c=(0,r.pi)((0,r.pi)({method:"GET"},l),i),o={},s={},e&&e.accessToken&&(u="function"==typeof e.accessToken?e.accessToken():e.accessToken,o.Authorization="Bearer "+u),void 0!==n&&(s.page=n),void 0!==a&&(s.size=a),t.query=(0,r.pi)((0,r.pi)((0,r.pi)({},t.query),s),i.query),delete t.search,m=l&&l.headers?l.headers:{},c.headers=(0,r.pi)((0,r.pi)((0,r.pi)({},o),m),i.headers),[2,{url:p.WU(t),options:c}]}))}))}}},b=function(e){return{createKafka:function(t,n,a){return(0,r.mG)(this,void 0,Promise,(function(){var i;return(0,r.Jh)(this,(function(l){switch(l.label){case 0:return[4,_(e).createKafka(t,n,a)];case 1:return i=l.sent(),[2,function(e,t){void 0===e&&(e=E()),void 0===t&&(t=v);var n=(0,r.pi)((0,r.pi)({},i.options),{url:t+i.url});return e.request(n)}]}}))}))},createServiceAccount:function(t){return(0,r.mG)(this,void 0,Promise,(function(){var n;return(0,r.Jh)(this,(function(a){switch(a.label){case 0:return[4,_(e).createServiceAccount(t)];case 1:return n=a.sent(),[2,function(e,t){void 0===e&&(e=E()),void 0===t&&(t=v);var a=(0,r.pi)((0,r.pi)({},n.options),{url:t+n.url});return e.request(a)}]}}))}))},deleteKafkaById:function(t,n){return(0,r.mG)(this,void 0,Promise,(function(){var a;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return[4,_(e).deleteKafkaById(t,n)];case 1:return a=i.sent(),[2,function(e,t){void 0===e&&(e=E()),void 0===t&&(t=v);var n=(0,r.pi)((0,r.pi)({},a.options),{url:t+a.url});return e.request(n)}]}}))}))},getKafkaById:function(t,n){return(0,r.mG)(this,void 0,Promise,(function(){var a;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return[4,_(e).getKafkaById(t,n)];case 1:return a=i.sent(),[2,function(e,t){void 0===e&&(e=E()),void 0===t&&(t=v);var n=(0,r.pi)((0,r.pi)({},a.options),{url:t+a.url});return e.request(n)}]}}))}))},listKafkas:function(t,n,a){return(0,r.mG)(this,void 0,Promise,(function(){var i;return(0,r.Jh)(this,(function(l){switch(l.label){case 0:return[4,_(e).listKafkas(t,n,a)];case 1:return i=l.sent(),[2,function(e,t){void 0===e&&(e=E()),void 0===t&&(t=v);var n=(0,r.pi)((0,r.pi)({},i.options),{url:t+i.url});return e.request(n)}]}}))}))}}},T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.createKafka=function(e,t,n){var a=this;return b(this.configuration).createKafka(e,t,n).then((function(e){return e(a.axios,a.basePath)}))},t.prototype.createServiceAccount=function(e){var t=this;return b(this.configuration).createServiceAccount(e).then((function(e){return e(t.axios,t.basePath)}))},t.prototype.deleteKafkaById=function(e,t){var n=this;return b(this.configuration).deleteKafkaById(e,t).then((function(e){return e(n.axios,n.basePath)}))},t.prototype.getKafkaById=function(e,t){var n=this;return b(this.configuration).getKafkaById(e,t).then((function(e){return e(n.axios,n.basePath)}))},t.prototype.listKafkas=function(e,t,n){var a=this;return b(this.configuration).listKafkas(e,t,n).then((function(e){return e(a.axios,a.basePath)}))},t}(h);!function(e){e.COMPLETED="complete",e.ACCEPTED="accepted",e.PROVISIONING="provisioning",e.FAILED="failed"}(a||(a={}));var C=n(52648),S=(n(82519),function(e){var t=e.status,n=t===a.ACCEPTED?"pending case":t;return l().createElement(s.Flex,null,l().createElement(s.FlexItem,{spacer:{default:"spacerSm"}},function(){switch(null==t?void 0:t.toLowerCase()){case a.COMPLETED:return l().createElement(u.CheckCircleIcon,{className:"check-circle-icon-color"});case a.FAILED:return l().createElement(u.ExclamationCircleIcon,{className:"exclamation-circle-icon-color"});case a.PROVISIONING:return l().createElement(s.Spinner,{size:u.IconSize.md});case a.ACCEPTED:default:return l().createElement(u.PendingIcon,null)}}()),l().createElement(s.FlexItem,null,(0,C.kC)(n)))}),k=function(e){var t=e.confirmActionLabel,n=e.cancelActionLabel,r=e.title,c=e.onConfirm,u=e.isModalOpen,m=e.setIsModalOpen,d=e.description,p=e.variant,f=void 0===p?s.ModalVariant.small:p,E=e.titleIconVariant,v=void 0===E?"warning":E,h=e.instanceStatus,g=e.selectedInstance,_=(0,o.useTranslation)().t,b=(0,i.useState)(),T=b[0],C=b[1],S=null==g?void 0:g.name,k=function(){m(!u)};return l().createElement(s.Modal,{id:"dialog-prompt-modal",variant:f,isOpen:u,"aria-label":_("delete_instance_modal"),title:r,titleIconVariant:v,showClose:!0,onClose:k,actions:[l().createElement(s.Button,{key:"confirm-button",variant:s.ButtonVariant.danger,onClick:function(){c(g)},isDisabled:h===a.COMPLETED&&(null==T?void 0:T.toLocaleLowerCase())!==(null==S?void 0:S.toLowerCase())},t||_("confirm")),l().createElement(s.Button,{key:"cancel",variant:"link",onClick:k},n||_("cancel"))]},l().createElement(s.Text,{dangerouslySetInnerHTML:{__html:d||""}}),h===a.COMPLETED&&l().createElement(l().Fragment,null,l().createElement(s.TextContent,{className:"text-content"},l().createElement(s.Text,{dangerouslySetInnerHTML:{__html:_("instance_name_label",{name:S})}})),l().createElement(s.TextInput,{id:"instance-name",type:"text",value:T,onChange:function(e){C(e)}})))},x=function(e){var t=e.page,n=e.perPage,a=e.itemCount,r=e.variant,o=e.isCompact,u=(0,c.k6)(),m=(0,c.TH)(),d=new URLSearchParams(m.search),p=(0,i.useCallback)((function(e,t){d.set(e,t.toString())}),[d]),f=(0,i.useCallback)((function(e,t){p("page",t.toString()),u.push({search:d.toString()})}),[p,u,d]),E=(0,i.useCallback)((function(e,t){p("page","1"),p("perPage",t.toString()),u.push({search:d.toString()})}),[p,u,d]);return a&&a>0?l().createElement(s.Pagination,{itemCount:a,perPage:n,page:t,onSetPage:f,variant:r||"top",onPerPageSelect:E,isCompact:o}):null},y=n(94956),I=function(e){var t=e.createStreamsInstance,n=e.setCreateStreamsInstance,a=e.filterSelected,c=e.namesSelected,m=e.setNamesSelected,d=e.mainToggle,p=e.total,f=e.page,E=e.perPage,v=(0,i.useState)(!1),h=v[0],g=v[1],_=(0,i.useState)(),b=_[0],T=_[1],C=(0,o.useTranslation)().t,S=l().createElement(l().Fragment,null,l().createElement(s.ToolbarGroup,{variant:"filter-group"},l().createElement(s.ToolbarFilter,{chips:c,deleteChip:function(e,t){if("name"===e.toString().toLowerCase()){var n=c.findIndex((function(e){return e===t.toString().toLowerCase()}));if(n>=0){var a=Object.assign([],c);a.splice(n,1),m(a)}}},deleteChipGroup:function(e){"name"===e.toString().toLowerCase()&&m([])},categoryName:C("name")},l().createElement(s.Select,{variant:s.SelectVariant.single,"aria-label":"Select filter",onToggle:function(){g(!h)},selections:a&&C(a.toLowerCase()),isOpen:h},[{value:"Name",disabled:!1}].map((function(e,t){return l().createElement(s.SelectOption,{isDisabled:e.disabled,key:t,value:C(e.value.toLowerCase())})}))),l().createElement(s.InputGroup,{className:"filter-text-input"},l().createElement(s.TextInput,{name:"filter text input",id:"filterText",type:"search","aria-label":"Search filter input",placeholder:C("filter_by")+" "+((null==a?void 0:a.toLowerCase())&&C((null==a?void 0:a.toLowerCase())+"_lower")),onChange:function(e){T(e)},value:b}),l().createElement(s.Button,{variant:s.ButtonVariant.control,onClick:function(){b&&""!==b.trim()&&(c.findIndex((function(e){return e===b.trim().toLowerCase()}))<0&&(m((0,r.pr)(c,[b.trim()])),T("")))},"aria-label":"Search instances"},l().createElement(u.SearchIcon,null))))));return l().createElement(s.Toolbar,{id:"instance-toolbar",collapseListedFiltersBreakpoint:"md",clearAllFilters:function(){m([])}},l().createElement(s.ToolbarContent,null,d&&l().createElement(s.ToolbarToggleGroup,{toggleIcon:l().createElement(u.FilterIcon,null),breakpoint:"md"},S),l().createElement(s.ToolbarItem,null,l().createElement(s.Button,{variant:"primary",onClick:function(){return n(!t)}},C("create_streams_instance"))),l().createElement(s.ToolbarItem,{variant:"pagination",alignment:{default:"alignRight"}},l().createElement(x,{itemCount:p,page:f,perPage:E,isCompact:!0}))))},w=n(42603),N=n(9995),P=function(e){var t=e.mainToggle,n=e.kafkaInstanceItems,c=e.onViewInstance,u=e.onConnectToInstance,m=e.refresh,p=e.createStreamsInstance,f=e.setCreateStreamsInstance,E=e.page,v=e.perPage,h=e.total,g=(0,i.useContext)(w.V).getToken,_=(0,i.useContext)(N.G).basePath,b=(0,o.useTranslation)().t,P=(0,y.Z7)().addAlert,F=(0,i.useState)(!1),L=F[0],A=F[1],B=(0,i.useState)({}),G=B[0],V=B[1],O=[b("name"),b("cloud_provider"),b("region"),b("status")],R=(0,i.useState)("Name"),q=R[0],D=R[1],K=(0,i.useState)([]),z=K[0],J=K[1];(0,i.useEffect)((function(){m()}),[E,v]);var M,U=function(e,n){var r=e.originalData,i=function(e,t){switch(t){case a.COMPLETED:return e("delete_instance");case a.FAILED:return e("remove");case a.ACCEPTED:case a.PROVISIONING:return e("stop_instance");default:return}}(b,null==r?void 0:r.status);return t?[{title:b("view_details"),id:"view-instance",onClick:function(){return c(r)}},{title:b("connect_to_instance"),id:"connect-instance",onClick:function(){return u(r)}},{title:i,id:"delete-instance",onClick:function(){return n(r)}}]:[{title:b("view_details"),id:"view-instance",onClick:function(){return c(r)}},{title:i,id:"delete-instance",onClick:function(){return n(r)}}]},H=function(e){var t=e.status;V(e),t===a.FAILED?j(e):A(!L)},j=function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){var t,n,a,i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:if(void 0===(t=(null==G?void 0:G.id)||(null==e?void 0:e.id)))throw new Error("kafka instance id is not set");return[4,g()];case 1:n=r.sent(),a=new T({accessToken:n,basePath:_}),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,a.deleteKafkaById(t).then((function(){A(!1),P(b("kafka_successfully_deleted"),s.AlertVariant.success),m()}))];case 3:return r.sent(),[3,5];case 4:return i=r.sent(),A(!1),console.log("IS THERE AN ERROR HERE"),P(i,s.AlertVariant.danger),[3,5];case 5:return[2]}}))}))},W=function(e,t,n){var r={title:"",confirmActionLabel:"",description:""};return t===a.COMPLETED?(r.title=e("delete_instance")+"?",r.confirmActionLabel=e("delete_instance"),r.description=e("delete_instance_status_complete",{instanceName:n})):t!==a.ACCEPTED&&t!==a.PROVISIONING||(r.title=e("stop_creating_instance")+"?",r.confirmActionLabel=e("stop_creating_instance"),r.description=e("delete_instance_status_accepted_or_provisioning",{instanceName:n})),r}(b,null==G?void 0:G.status,null==G?void 0:G.name),Q=W.title,Z=W.confirmActionLabel,Y=W.description;return l().createElement(s.Card,null,l().createElement(I,{mainToggle:t,createStreamsInstance:p,setCreateStreamsInstance:f,filterSelected:q,namesSelected:z,setFilterSelected:D,setNamesSelected:J,total:h,page:E,perPage:v}),l().createElement(d.Table,{cells:O,rows:(M=[],n.forEach((function(e){var t=e.name,n=e.cloud_provider,a=e.region,r=e.status,i=(0,C.Or)(n),c=(0,C.KD)(a);M.push({cells:[t,i,c,{title:l().createElement(S,{status:r})}],originalData:e})})),M),"aria-label":b("cluster_instance_list"),actionResolver:function(e,t){return U(e,H)}},l().createElement(d.TableHeader,null),l().createElement(d.TableBody,null)),l().createElement(s.Divider,null),l().createElement(x,{widgetId:"pagination-options-menu-bottom",itemCount:h,variant:s.PaginationVariant.bottom,page:E,perPage:v}),L&&l().createElement(k,{title:Q,selectedInstance:G,isModalOpen:L,instanceStatus:null==G?void 0:G.status,setIsModalOpen:A,onConfirm:j,description:Y,confirmActionLabel:Z}))},F=function(){this.cloud_provider="",this.multi_az=!1,this.region="",this.name=""},L=function(e){var t=e.createStreamsInstance,n=e.setCreateStreamsInstance,a=e.refresh,c=(0,o.useTranslation)().t,m=new F;m.name="",m.cloud_provider="aws",m.region="us-east-1",m.multi_az=!0;var d=(0,r.pr)([{value:"",label:"please_select",disabled:!1}],C.Bh),p=(0,i.useState)(m),f=p[0],E=p[1],v=(0,i.useState)({fieldState:"default"}),h=v[0],g=v[1],_=(0,i.useState)({fieldState:"default"}),b=_[0],S=_[1],k=(0,i.useState)(!0),x=k[0],I=k[1],P=(0,i.useContext)(w.V).getToken,L=(0,i.useContext)(N.G).basePath,A=(0,y.Z7)().addAlert,B=function(){n(!t)},G=function(e){switch(e.toLowerCase()){case"aws":return l().createElement(u.AwsIcon,{size:"lg",color:"black",className:"cloud-region-icon"});default:return}},V=function(e){E((0,r.pi)((0,r.pi)({},f),{multi_az:"multi"===e}))};return l().createElement(l().Fragment,null,l().createElement(s.Modal,{variant:s.ModalVariant.medium,title:c("create_a_streams_instance"),isOpen:t,onClose:B,actions:[l().createElement(s.Button,{key:"create",variant:"primary",onClick:function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e,t,n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return e=!0,void 0!==f.name&&""!==f.name.trim()||(e=!1,g({fieldState:"error",message:c("this_is_a_required_field")})),void 0!==f.region&&""!==f.region.trim()||(e=!1,S({fieldState:"error",message:c("this_is_a_required_field")})),[4,P()];case 1:if(t=r.sent(),!e)return[3,6];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,new T({accessToken:t,basePath:L}).createKafka(!0,f).then((function(e){A(c("kafka_successfully_created"),s.AlertVariant.success),B(),a()}))];case 3:return r.sent(),[3,5];case 4:return n=r.sent(),A(n,s.AlertVariant.danger),[3,5];case 5:return[3,7];case 6:I(!1),r.label=7;case 7:return[2]}}))}))},isDisabled:!x},c("create_instance")),l().createElement(s.Button,{key:"cancel",variant:"link",onClick:B},c("cancel"))]},l().createElement(s.Form,null,!x&&l().createElement(s.FormAlert,null,l().createElement(s.Alert,{variant:"danger",title:c("create_instance_invalid_alert"),"aria-live":"polite",isInline:!0})),l().createElement(s.FormGroup,{label:c("instance_name"),helperTextInvalid:h.message,helperTextInvalidIcon:l().createElement(u.ExclamationCircleIcon,null),isRequired:!0,validated:h.fieldState,fieldId:"form-instance-name"},l().createElement(s.TextInput,{isRequired:!0,validated:h.fieldState,type:"text",id:"form-instance-name",name:"instance-name",value:null==f?void 0:f.name,onChange:function(e){E((0,r.pi)((0,r.pi)({},f),{name:e||""})),"error"===h.fieldState&&"error"!==b.fieldState&&I(!0),"error"===h.fieldState&&g({fieldState:"default",message:""})}})),l().createElement(s.FormGroup,{label:c("cloud_provider"),fieldId:"form-cloud-provider-name"},C.bv.map((function(e){return l().createElement(s.Tile,{key:"tile-"+e.value,title:c(e.label),icon:G(e.value),isSelected:f.cloud_provider===e.value,onClick:function(){return E((0,r.pi)((0,r.pi)({},f),{cloud_provider:e.value}))}})}))),l().createElement(s.FormGroup,{label:c("cloud_region"),helperTextInvalid:b.message,helperTextInvalidIcon:l().createElement(u.ExclamationCircleIcon,null),validated:b.fieldState,fieldId:"form-cloud-region-option"},l().createElement(s.FormSelect,{validated:b.fieldState,value:f.region,onChange:function(e){"error"===b.fieldState&&"error"!==h.fieldState&&I(!0),"error"===b.fieldState&&S({fieldState:"default",message:""}),E((0,r.pi)((0,r.pi)({},f),{region:e}))},id:"cloud-region-select",name:"cloud-region","aria-label":c("cloud_region")},d.map((function(e,t){return l().createElement(s.FormSelectOption,{key:t,value:e.value,label:c(e.label)})})))),l().createElement(s.FormGroup,{label:c("availabilty_zones"),fieldId:"availability-zones"},l().createElement(s.ToggleGroup,{"aria-label":c("availability_zone_selection")},l().createElement("div",{className:"pf-c-toggle-group__item"},l().createElement("button",{className:"pf-c-toggle-group__button "+(!1===f.multi_az&&"pf-m-selected"),type:"button",id:"single",disabled:!0,onClick:function(){V("single")}},l().createElement("span",{className:"pf-c-toggle-group__text"}," ",c("single")))),l().createElement("div",{className:"pf-c-toggle-group__item"},l().createElement("button",{className:"pf-c-toggle-group__button "+(!0===f.multi_az&&"pf-m-selected"),type:"button",onClick:function(){V("multi")},id:"multi"},l().createElement("span",{className:"pf-c-toggle-group__text"}," ",c("multi"))))))),l().createElement("br",null),l().createElement("br",null)))},A=function(){var e=(0,o.useTranslation)().t,t=(0,i.useState)(!1),n=t[0],a=t[1],r=(0,i.useState)(!1),c=r[0],m=r[1],d=(0,i.useState)(1),p=d[0],f=d[1],E=(0,i.useState)(),v=E[0],h=E[1],g=(0,i.useState)(!1),_=g[0],b=g[1],T=(0,i.useState)(!1),C=T[0],S=T[1],k=(0,i.useState)(!1),x=k[0],y=k[1],I=(0,i.useState)(!1),w=I[0],N=I[1],P=(0,i.useState)(!1),F=P[0],L=P[1],A=(0,i.useState)("name"),B=A[0],G=A[1],V=(0,i.useState)(),O=V[0],R=V[1],q=(0,i.useState)(!1),D=q[0],K=q[1],z=(0,i.useState)("name"),J=z[0],M=z[1],U=(0,i.useState)(),H=U[0],j=U[1],W=(0,i.useState)(!1),Q=W[0],Z=W[1],Y=(0,i.useState)(!1),$=Y[0],X=Y[1],ee=(0,i.useState)(!1),te=ee[0],ne=ee[1],ae=(0,i.useState)("name"),re=ae[0],ie=ae[1],le=(0,i.useState)(),ce=le[0],oe=le[1],se=(0,i.useState)(!1),ue=se[0],me=se[1],de=function(){m(!c)},pe=function(e,t){f(e.id)},fe=function(e,t){b(!1),S(!1),y(!1),N(!1);var n=t.target,a="radio"===n.type?n.checked:n.value,r=n.name;"radio1-1"===r?b(a):"radio2-1"===r?S(a):"radio3-1"===r?y(a):"radio4-1"===r&&N(a)},Ee=function(e,t){Z(!1),X(!1),ne(!1);var n=t.target,a="radio"===n.type?n.checked:n.value,r=n.name;"radio1-4"===r?Z(a):"radio2-4"===r?X(a):"radio3-4"===r&&ne(a)},ve=l().createElement("div",{className:"generate-cred-wizard-content"},l().createElement(s.TextContent,{className:"pf-u-mb-lg"},l().createElement(s.Text,{component:s.TextVariants.h2},e("basic_info")),l().createElement(s.Text,{component:s.TextVariants.small},e("generate_credential_step1_title_description"))),l().createElement(s.Form,null,l().createElement(s.FormGroup,{label:e("credential_name_form_label"),fieldId:"simple-form-name",isRequired:!0},l().createElement(s.TextInput,{isRequired:!0,type:"text",id:"simple-form-name",name:"simple-form-name","aria-describedby":"simple-form-name-helper",value:v,onChange:function(e){h(e)},placeholder:e("credential_name_form_input_placeholder")})),l().createElement(s.FormGroup,{label:e("credential_aplication_reason_form_label"),className:"form-group-radio",fieldId:"radio-access-type",isRequired:!0},l().createElement(s.Radio,{isChecked:_,name:"radio1-1",onChange:fe,label:e("produce_only"),id:"radio-controlled-1",value:"produce"}),l().createElement(s.Radio,{isChecked:C,name:"radio2-1",onChange:fe,label:e("consume_only"),id:"radio-controlled-2",value:"consume"}),l().createElement(s.Radio,{isChecked:x,name:"radio3-1",onChange:fe,label:e("produce_and_consume"),id:"radio-controlled-3",value:"produceconsume"}),l().createElement(s.Radio,{isChecked:w,name:"radio4-1",onChange:fe,label:e("produce_consume_and_create_topics"),id:"radio-controlled-4",value:"produceconsumecreate"})))),he=l().createElement("div",{className:"generate-cred-wizard-content"},l().createElement(s.TextContent,{className:"pf-u-mb-lg"},l().createElement(s.Text,{component:s.TextVariants.h2},e("generate_credential_step2_title_description"))),l().createElement(s.Form,null,l().createElement(s.Switch,{id:"simple-switch",label:e("all_topics"),labelOff:e("all_topics"),isChecked:F,onChange:function(e){L(e)}}),F?l().createElement(l().Fragment,null):l().createElement(s.FormGroup,{label:e("specific_topics"),fieldId:"input-access-topics",isRequired:!0},l().createElement(s.Split,{hasGutter:!0,className:"pf-u-align-items-center"},l().createElement(s.SplitItem,null,e("topics_with_the")),l().createElement(s.SplitItem,null,l().createElement(s.FormSelect,{id:"select-access-topics",value:B,onChange:function(e){G(e)}},l().createElement(s.FormSelectOption,{value:"name",label:e("lower_name")}),l().createElement(s.FormSelectOption,{value:"prefix",label:e("lower_prefix")}))),l().createElement(s.SplitItem,{isFilled:!0},l().createElement(s.TextInput,{isRequired:!0,type:"text",id:"input-access-topics",name:"input-access-topics","aria-describedby":"simple-form-name-helper",value:O,onChange:function(e){R(e)},placeholder:e("enter_your_topic")+" "+B}))),l().createElement(s.Popover,{position:"bottom",bodyContent:l().createElement("div",null,e("credential_rule_popover_data"))},l().createElement(s.Button,{variant:"link",icon:l().createElement(u.PlusCircleIcon,null),isInline:!0,className:"pf-u-mt-md"},"Add another rule"))))),ge=l().createElement("div",{className:"generate-cred-wizard-content"},l().createElement(s.TextContent,{className:"pf-u-mb-lg"},l().createElement(s.Text,{component:s.TextVariants.h2},e("generate_credential_step3_title_description"))),l().createElement(s.Form,null,l().createElement(s.Switch,{id:"simple-switch",label:e("all_consumer_groups"),labelOff:e("all_consumer_groups"),isChecked:D,onChange:function(e){K(e)}}),D?l().createElement(l().Fragment,null):l().createElement(s.FormGroup,{label:e("specific_consumer_groups"),fieldId:"input-access-consumers",isRequired:!0},l().createElement(s.Split,{hasGutter:!0,className:"pf-u-align-items-center"},l().createElement(s.SplitItem,null,e("groups_with_the")),l().createElement(s.SplitItem,null,l().createElement(s.FormSelect,{id:"select-access-consumers",value:J,onChange:function(e){M(e)}},l().createElement(s.FormSelectOption,{value:"name",label:e("lower_name")}),l().createElement(s.FormSelectOption,{value:"prefix",label:e("lower_prefix")}))),l().createElement(s.SplitItem,{isFilled:!0},l().createElement(s.TextInput,{isRequired:!0,type:"text",id:"input-access-consumers",name:"input-access-consumers",value:H,onChange:function(e){j(e)},placeholder:e("enter_your_consumer_group")+" "+J})))))),_e=l().createElement("div",{className:"generate-cred-wizard-content"},l().createElement(s.TextContent,{className:"pf-u-mb-lg"},l().createElement(s.Text,{component:s.TextVariants.h2,id:"step4-title"},e("generate_credential_step4_title_description"))),l().createElement(s.Form,null,l().createElement("section",{"aria-labelledby":"step4-title",className:"form-group-radio"},l().createElement("div",{className:"pf-c-form__group-control"},l().createElement(s.Radio,{isChecked:Q,name:"radio1-4",onChange:Ee,label:e("no_transaction_ids"),id:"radio-controlled-1-4",value:"no"}),l().createElement(s.Radio,{isChecked:$,name:"radio2-4",onChange:Ee,label:e("all_transaction_ids"),id:"radio-controlled-2-4",value:"all",className:"pf-u-mb-sm"}),l().createElement(s.Split,{hasGutter:!0,className:"pf-u-align-items-center"},l().createElement(s.SplitItem,null,l().createElement(s.Radio,{isChecked:te,name:"radio3-4",onChange:Ee,label:e("transaction_ids_with_the"),id:"radio-controlled-3-4",value:"filter"})),l().createElement(s.SplitItem,null,l().createElement(s.FormSelect,{id:"select-access-transactions",value:re,onChange:function(e){ie(e)}},l().createElement(s.FormSelectOption,{value:"name",label:e("lower_name")}),l().createElement(s.FormSelectOption,{value:"prefix",label:e("lower_prefix")}))),l().createElement(s.SplitItem,{isFilled:!0},l().createElement(s.TextInput,{isRequired:!0,type:"text",id:"input-access-transactions",name:"input-access-transactions",value:ce,onChange:function(e){oe(e)},placeholder:e("enter_your_transaction_id")+" "+re}))))))),be=l().createElement(l().Fragment,null,l().createElement(s.EmptyState,{variant:s.EmptyStateVariant.large},l().createElement(s.EmptyStateIcon,{icon:u.KeyIcon}),l().createElement(s.Title,{headingLevel:"h4",size:"lg"},e("credential_successfully_generated")),l().createElement(s.EmptyStateBody,null,e("clientid_empty_state_body")),l().createElement(s.InputGroup,{className:"pf-u-mt-lg"},l().createElement(s.InputGroupText,{className:"no-wrap"},e("client_id")),l().createElement(s.ClipboardCopy,{isReadOnly:!0,className:"pf-u-w-100"},"FSLG934JM98IL")),l().createElement(s.InputGroup,{className:"pf-u-mt-md"},l().createElement(s.InputGroupText,{className:"no-wrap"},"Client secret"),l().createElement(s.ClipboardCopy,{isReadOnly:!0,className:"pf-u-w-100"},"898VsyDInUfhSd9ng8K/REs9r8h0n8j98s5c4JdeJfUg/E8")),l().createElement(s.Bullseye,{className:"pf-u-mt-lg"},l().createElement(s.Checkbox,{label:e("client_id_confirmation_checkbox_label"),isChecked:ue,onChange:function(e){me(e)},id:"check-1",name:"check1"})),l().createElement(s.Button,{variant:"primary",isDisabled:!ue,onClick:function(){m(!c),a(!n),f(1)}},e("close")))),Te=[{id:1,name:e("basic_info"),component:ve,nextButtonText:e("next")},{id:2,name:e("topics_access"),component:he,nextButtonText:e("next")},{id:3,name:e("consumer_groups_access"),component:ge,nextButtonText:e("next")},{id:4,name:e("transaction_ids_access"),component:_e,nextButtonText:e("finish")},{id:5,name:e("finish"),component:be,isFinishedStep:!0}],Ce=e("generate_credential");return l().createElement(l().Fragment,null,n?l().createElement(l().Fragment,null,l().createElement(s.FlexItem,{className:"pf-m-align-right pf-m-spacer-none"},l().createElement(s.Button,{variant:"danger",onClick:de,className:"pf-u-ml-md pf-u-mb-md"},e("generate_new_credential"))),l().createElement(s.FlexItem,{className:"pf-m-grow"},l().createElement(s.Alert,{variant:"success",isInline:!0,title:e("credentials_successfully_generated")}))):l().createElement(s.FlexItem,{className:"pf-m-align-right"},l().createElement(s.Button,{variant:"secondary",onClick:de,className:"pf-u-ml-md"},e("generate_credential"))),l().createElement(s.Wizard,{title:Ce,description:e("create_credential_wizard_description"),steps:Te,onNext:pe,onBack:pe,onClose:de,isOpen:c,hideClose:5===p}))},B=n(91031),G=n(88945),V=n.n(G),O=n(56176),R=n.n(O),q=function(e){var t=e.mainToggle,n=e.onClose,a=e.activeTab,r=e.instanceDetail,c=(0,o.useTranslation)().t,m=(0,i.useState)(0),d=m[0],p=m[1],f=(0,i.useState)(0),E=f[0],v=f[1];(0,i.useEffect)((function(){p("Details"===a?0:1)}),[a]);var h=l().createElement(l().Fragment,null,l().createElement("div",{className:"tab-content-body"},l().createElement(s.TextContent,{className:"pf-u-pb-sm"},l().createElement(s.Text,{component:s.TextVariants.small},c("drawer_resource_tab_body_description_1")),l().createElement(s.Text,{component:s.TextVariants.h5},c("kafka_listener_and_credentials")),l().createElement(s.Text,{component:s.TextVariants.small},c("drawer_resource_tab_body_description_2")),l().createElement(s.Text,{component:s.TextVariants.p,className:"pf-u-mt-md"},c("external_server"))),l().createElement(s.Flex,null,l().createElement(s.FlexItem,{className:"pf-m-grow pf-m-spacer-none pf-u-mb-xs"},l().createElement(s.ClipboardCopy,null,"strimzi-external-bootstrap-01 : 1234")),l().createElement(A,null)),l().createElement(s.TextContent,{className:"pf-u-pb-sm pf-u-pt-lg"},l().createElement(s.Text,{component:s.TextVariants.h5},"Producer endpoint and credentials"),l().createElement(s.Text,{component:s.TextVariants.small},c("drawer_resource_tab_body_description_3"))),l().createElement(s.ClipboardCopy,null,"https : // : 30123"))),g=l().createElement(l().Fragment,null,l().createElement("div",{className:"tab-content-body"},l().createElement(s.TextContent,{className:"pf-u-pb-sm"},l().createElement(s.Text,{component:s.TextVariants.h5},c("sample_connection_code")),l().createElement(s.Text,{component:s.TextVariants.small},c("drawer_code_section_tab_body_description_1"),"<",c("brackets"),">.")),l().createElement("div",{className:"pf-c-code-editor pf-m-read-only"},l().createElement("div",{className:"pf-c-code-editor__header"},l().createElement("div",{className:"pf-c-code-editor__controls"},l().createElement(s.Button,{variant:"control","aria-label":"Action"},l().createElement(u.CopyIcon,null))),l().createElement("div",{className:"pf-c-code-editor__tab"},l().createElement("span",{className:"pf-c-code-editor__tab-text"},"Java"))),l().createElement("div",{className:"pf-c-code-editor__main"},l().createElement("div",{className:"pf-c-code-editor__code"},l().createElement("pre",{className:"pf-c-code-editor__code-pre"},"import java.util.Properties;")))),l().createElement(s.TextContent,{className:"pf-u-pb-sm pf-u-pt-lg"},l().createElement(s.Text,{component:s.TextVariants.h5},c("sample_connection_code")),l().createElement(s.Text,{component:s.TextVariants.small},c("drawer_code_section_tab_body_description_1"),"<",c("brackets"),">.")),l().createElement("div",{className:"pf-c-code-editor pf-m-read-only"},l().createElement("div",{className:"pf-c-code-editor__header"},l().createElement("div",{className:"pf-c-code-editor__controls"},l().createElement(s.Button,{variant:"control","aria-label":"Action"},l().createElement(u.CopyIcon,null)))),l().createElement("div",{className:"pf-c-code-editor__main"},l().createElement("div",{className:"pf-c-code-editor__code"},l().createElement("pre",{className:"pf-c-code-editor__code-pre"},"bootstrap.servers=es-1-4-0-ibm-es-proxy-route-bootstrap-es.apps.2019-4-1-demo-icp-mst.fyre.ibm.com:44 sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=â€œtoken")))))),_=function(e,t){return l().createElement(l().Fragment,null,t&&l().createElement(l().Fragment,null,l().createElement(s.TextListItem,{component:s.TextListItemVariants.dt},e),l().createElement(s.TextListItem,{component:s.TextListItemVariants.dd},t)))},b=r||{},T=b.id,C=b.created_at,S=b.updated_at,k=b.owner;V().extend(R());var x=l().createElement(l().Fragment,null,l().createElement("div",{className:"tab-content-body"},t&&l().createElement(s.Grid,{className:"instance-card-grid"},l().createElement(s.GridItem,{span:6,className:"instance-detail-first-grid"},l().createElement(s.Card,{isFlat:!0},l().createElement(s.CardBody,null,l().createElement(s.TextContent,null,l().createElement(s.Text,{component:s.TextVariants.small,className:"pf-u-mb-0"},c("topics")),l().createElement(s.Text,{component:s.TextVariants.h3,className:"pf-u-mt-0"},"10"))))),l().createElement(s.GridItem,{span:6},l().createElement(s.Card,{isFlat:!0},l().createElement(s.CardBody,null,l().createElement(s.TextContent,null,l().createElement(s.Text,{component:s.TextVariants.small,className:"pf-u-mb-0"},c("consumer_groups")),l().createElement(s.Text,{component:s.TextVariants.h3,className:"pf-u-mt-0"},"8")))))),l().createElement(s.TextContent,null,l().createElement(s.TextList,{component:s.TextListVariants.dl},_(c("cloud_provider"),c("amazon_web_services")),_(c("region"),c("us_east_north_virginia")),_(c("id"),T),_(c("owner"),k),_(c("created"),V()(C).format("LLLL")),_(c("updated"),V()(S).format("LLLL")))))),y=l().createElement(l().Fragment,null,l().createElement("div",{className:"tab-content-body pf-m-secondary"},l().createElement(s.Tabs,{activeKey:E,isSecondary:!0,onSelect:function(e,t){v(t)}},l().createElement(s.Tab,{eventKey:0,title:l().createElement(s.TabTitleText,null,c("resources"))},h),l().createElement(s.Tab,{eventKey:1,title:l().createElement(s.TabTitleText,null,c("sample_code"))},g))));return l().createElement(s.DrawerPanelContent,{className:"instance-drawer",widths:{default:"width_66"}},void 0===r?l().createElement(B.g,null):l().createElement(l().Fragment,null,l().createElement(s.DrawerHead,null,l().createElement(s.TextContent,null,l().createElement(s.Text,{component:s.TextVariants.small,className:"pf-u-mb-0"},c("instance_name")),l().createElement(s.Title,{headingLevel:"h3",size:s.TitleSizes["2xl"],className:"pf-u-mt-0 "},null==r?void 0:r.name)),l().createElement(s.DrawerActions,null,l().createElement(s.DrawerCloseButton,{onClick:n}))),l().createElement(s.DrawerPanelBody,null,l().createElement(s.Tabs,{activeKey:d,onSelect:function(e,t){p(t)}},l().createElement(s.Tab,{eventKey:0,title:l().createElement(s.TabTitleText,null,c("details"))},x),t&&l().createElement(s.Tab,{eventKey:1,title:l().createElement(s.TabTitleText,null,c("connection"))},y)))))};var D=function(e){e.onConnectToInstance;var t,n,a,u=(0,i.useContext)(w.V).getToken,d=(0,i.useContext)(N.G).basePath,p=(0,c.TH)(),f=new URLSearchParams(p.search),E=parseInt(f.get("page")||"",10)||1,v=parseInt(f.get("perPage")||"",10)||10,h=(0,o.useTranslation)().t,g=(0,i.useState)(!1),_=g[0],b=g[1],C=(0,i.useState)(),S=C[0],k=C[1],x=(0,i.useState)({}),I=x[0],F=x[1],A=(0,i.useState)(!1),G=A[0],V=A[1],O=(0,i.useState)(!1),R=O[0],D=O[1],K=(0,i.useState)(),z=K[0],J=K[1],M=l().createRef(),U=function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e,t,n;return(0,r.Jh)(this,(function(a){switch(a.label){case 0:return[4,u()];case 1:if(void 0===(e=a.sent())&&""===e)return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,new T({accessToken:e,basePath:d}).listKafkas(null==E?void 0:E.toString(),null==v?void 0:v.toString()).then((function(e){var t=e.data;console.log("what is res"+JSON.stringify(t)),F(t),k(t.items),V(!0)}))];case 3:return a.sent(),[3,5];case 4:return function(e){var t;return void 0!==(null===(t=e.response)||void 0===t?void 0:t.data.code)}(t=a.sent())&&console.log(null===(n=t.response)||void 0===n?void 0:n.data.reason),[3,5];case 5:return[2]}}))}))};(0,i.useEffect)((function(){V(!1)}),[u,E,v]),t=U,n=5e3,a=(0,i.useRef)(),(0,i.useEffect)((function(){a.current=t}),[t]),(0,i.useEffect)((function(){if(null!==n){var e=setInterval((function(){a.current()}),n);return function(){clearInterval(e)}}}),[t,n]);return l().createElement(l().Fragment,null,l().createElement(y.uZ,null,l().createElement(s.Drawer,{isExpanded:null!=z,onExpand:function(){M.current&&M.current.focus()}},l().createElement(s.DrawerContent,{panelContent:l().createElement(q,{mainToggle:R,onClose:function(){J(null)},isExpanded:null!=z,drawerRef:M,activeTab:null==z?void 0:z.activeTab,instanceDetail:null==z?void 0:z.instanceDetail})},l().createElement(s.PageSection,{variant:s.PageSectionVariants.light},l().createElement(s.Level,null,l().createElement(s.LevelItem,null,l().createElement(s.Title,{headingLevel:"h1",size:"lg"},h("OpenshiftStreams"))),l().createElement(s.LevelItem,null,l().createElement(s.Switch,{id:"simple-switch",label:h("Mock UI"),labelOff:h("Currently supported UI"),isChecked:R,onChange:function(e){D(e)}})))),l().createElement(s.PageSection,null,G?S&&S.length>0?l().createElement(P,{kafkaInstanceItems:S,mainToggle:R,onConnectToInstance:function(e){J({instanceDetail:e,activeTab:"Connection"})},onViewInstance:function(e){J({instanceDetail:e,activeTab:"Details"})},refresh:U,createStreamsInstance:_,setCreateStreamsInstance:b,page:E,perPage:v,total:null==I?void 0:I.total}):void 0!==S&&l().createElement(m,{createStreamsInstance:_,setCreateStreamsInstance:b,mainToggle:R}):l().createElement(B.g,null),_&&l().createElement(L,{createStreamsInstance:_,setCreateStreamsInstance:b,mainToggle:R,refresh:U}))))))}},9995:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var a=n(15691),r=n.n(a)().createContext({basePath:void 0})},42603:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var a=n(15691),r=n.n(a)().createContext({getToken:function(){return Promise.resolve("")}})},62219:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var a=n(15691),r=n.n(a),i=n(91995);function l(e){var t=e.alerts,n=e.onCloseAlert;return r().createElement(i.AlertGroup,{isToast:!0},t.map((function(e){var t=e.key,a=e.variant,l=e.message;return r().createElement(i.Alert,{key:t,isLiveRegion:!0,variant:i.AlertVariant[a],variantLabel:"",title:l,actionClose:r().createElement(i.AlertActionCloseButton,{title:l,onClose:function(){return n(t)}})})})))}},91031:(e,t,n)=>{"use strict";n.d(t,{g:()=>c});var a=n(15691),r=n.n(a),i=n(91995),l=n(92992),c=function(){return r().createElement(i.PageSection,null,r().createElement(i.Bullseye,null,r().createElement(l.Spinner,null)))}}}]);
//# sourceMappingURL=874.257960c3c476d13e9f17.js.map